<!DOCTYPE html>

<html lang="en">

<head>

  <meta charset="utf-8">

  <title>chemXbio</title>

  <link rel="stylesheet" type="text/css" href="mystyle.css">

  <script src = "mix.js"></script>
  <!-- <script src = "class.js"></script> -->
  <script src = "helper.js"></script>

</head>


<body>
  <div id="experiment">

    <div class="leftSide">

      <button onclick="showhidetoggle('operationsMenu'); createExperiment()">Begin experiment</button>

      <div id="operationsMenu" style="display: none">

        <button id="addSub" onclick="showhidetoggle('subForm')">Add Substance</button>
        <button id="mixButton" onclick="showhidetoggle('formMix'); inputCreate()">Mix</button>
        <button id="heatButton" onclick="">Heat</button>
        <button id="splitButton" onclick="">Split</button>
        <button id="outputButton" onclick="">Output</button>
        <button id="quit" onclick="toJson(experimentHolder); hideDiv('operationsMenu'); showDiv('experiment')">Quit Experiment</button>

        <script>
            function createExperiment()
            {
                experimentHolder.push({EXPERIMENT: experiment});
            }

            function addSub()
            {
                experiment.INPUTS.push(sublist);
            }

            function addMix() {

                experiment.INSTRUCTIONS.push(optList);
            }
        </script>

        <form id=subForm method="post" style="display: none">
          <fieldset>
          <legend>Add Substance</legend>
            Input:
            <input type="text" id="subName" name="" value="">
            <br>
            <input type="button" onclick="inputSub(document.getElementById('subName').value); " name="" value="Add Substance">
            <input type="button" onclick="addSub(); showhidetoggle('subForm')" value="Done">
          </fieldset>
        </form>


        <!-- Mixture Form -->
        <div id="formMix" style="display: none">

          <form id="mixForm" method="post">
            <fieldset>
              <legend>MIX</legend>
              Name:
              <input type="text" id="nameMix" name="" value="">
              <br>
              How many inputs for mixture?
              <select id="numInputs" onchange="inputCreate()">
                <option selected disabled hidden style='display: none' value=''></option>
                <script>
                  formInput('numInpus');
                </script>
              </select>
              <br>
              <br>
              Enter Mixtures:<br>
              <div id="inputMix">
                <!-- container for dynamically making input fields -->
              </div>
              Enter Temp:
              <input type="text" id="tempMix" name="" value="">
              <select id="tempSign">
                <option selected disabled hidden style='display: none' value=''></option>
                <script>
                  formTemperature('tempSign');
                </script>
              </select>
              <br>
              Enter Time:
              <input type="text" id="timeMix" name="" value="">
              <select id="timeDuration">
                <option selected disabled hidden style='display: none' value=''></option>
                <script>
                  formTime('timeDuration');
                </script>
              </select>
              <br>
              <input type="button" onClick="createMix()" id="" name="" value="Add Mix">
              <input type="button" onclick="addMix(); showhidetoggle('formMix')" value="Done">
              </fieldset>
          </form>

        </div>

        <script>
        function createMix()
        {
          var opt = JSON.parse(JSON.stringify(operation));

          opt.NAME = document.getElementById('nameMix').value;
          opt.ID = createID();
          opt.CLASSIFICATION = 'MIX';

          var num = document.getElementById('numInputs').value;

          for (i = 0; i < num; i++)
          {
              var temp = document.getElementById("input" + i).value;
              //mixtest["mixSubstances" + (i + 1)] = document.getElementById("input" + i).value;
              //mixtest["mixSubstances" + (i + 1)] = {Name : temp};
          }

          inputVar(opt,'water', "10", "UL");
          inputVar(opt,'blood');

          inputTemperature(opt, document.getElementById('tempMix').value, document.getElementById('tempSign').value);
          inputTime(opt, document.getElementById('timeMix').value, document.getElementById('timeDuration').value);

          optList.push({OPERATION: opt});

          resetForm('mixForm');
          inputCreate();
        }




        </script>


      </div>  <!-- End of operationsMenu-->

    </div> <!-- End of left side -->



    <div class="rightSide">

      <pre id="whereToPrint"></pre>

    </div> <!-- End of right side -->

  </div> <!-- End of experiment -->

</body>


</html>
